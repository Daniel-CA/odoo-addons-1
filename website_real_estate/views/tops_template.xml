<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

	<template id="top_reduced" name="Top Grid">          
	    <div class="tops_image col-md-12">
	        <t t-if="topdatas.image_ids">
	            <a t-attf-href="/realestate/top/{{topdatas.id}}"><span t-field="topdatas.image_ids[0].file_db_store"
	                    t-field-options='{"widget": "image", "class": "img-responsive"}'/></a>
	        </t>
	    </div>
	    <div class="offer">
	        <t t-if="topdatas.image_ids">
	            <t t-if="((topdatas.original_sale_price != '') and (topdatas.original_sale_price &gt; 0)) or ((topdatas.original_rent_price != '') and (topdatas.original_rent_price &gt; 0))">
	                <img src="/website_real_estate/static/img/images/banner_offer.png" id="offer1"/>
	            </t>
	        </t>
	    </div>
	    <div class="pending">
	        <div class="hidden">
	            <span t-field='topdatas.operation_state'/>
	        </div>  
	        <img class="hidden" src="/website_real_estate/static/img/images/banner_pending.png" id="pending1"/>
	    </div>
	    <div class="opportunity">
	        <t t-if="topdatas.website_opportunity">
	            <img src="/website_real_estate/static/img/images/banner_featured.png" id="opportunity1"/>
	        </t>
	    </div>
	    <div class="new">
	        <div class="hidden">
	            <span t-field="topdatas.date"/>
	            <span t-field="companies.new_top_date"/>
	        </div>
	        <img class="hidden" src="/website_real_estate/static/img/images/banner_new.png" id="novelty"/>
	        
	    </div>
	    <div class="top_description">
	        <a t-attf-href="/realestate/top/{{topdatas.id}}" class="ip_featured_title"><t t-set="completeAddress2" t-value="topdatas.zone.name or '' +' - '+topdatas.address or ''"/>
	        	<span id="black_color" t-esc="completeAddress2"/>
	        </a><br/>
	        <p style="color:rgba(162, 0, 33, 1);"><strong>
	        	<t t-if="(topdatas.original_sale_price != '') and (topdatas.original_sale_price &gt; 0)">
	                <span id="origsaleprice2" t-field="topdatas.original_sale_price"/><span id="eur">€</span>
	                <span class="hidden" id="1"/>
	             </t>
	             <t t-if="(topdatas.sale_price != '') and (topdatas.sale_price &gt; 0)">
	                <span id="saleprice" t-field="topdatas.sale_price"/><span id="eur1">€</span>
	                <span class="hidden" id="2"/>
	             </t>
	             <t t-if="(topdatas.original_rent_price != '') and (topdatas.original_rent_price &gt; 0)">
	                <span id="origrentprice2" t-field="topdatas.original_rent_price"/><span id="eur">€/mes</span>
	                <span class="hidden" id="3"/>
	             </t>
	             <t t-if="(topdatas.rent_price &gt; 0) and (topdatas.rent_price &gt; 0)">
	                <span id="rentprice" t-field="topdatas.rent_price"/><span id="eur1">€/mes</span>
	                <span class="hidden" id="4"/>
	             </t>
        	</strong></p>
	        <span style="color: rgb(112, 111, 111)">Reference code:</span><span t-field="topdatas.name" style="color: rgb(112, 111, 111)"/><br/>
	        <div class="col-md-4 rs-icons">
		        <div class="rs-icons-img" style="height:32px; line-height:32px;"><img src="/website_real_estate/static/img/images/bed.png" style="float:none;"/> <span t-field="topdatas.rooms"/></div>
		        <div>BEDS</div>
	        </div>
	        <div class="col-md-4 rs-icons">
	        	<div class="rs-icons-img"><img src="/website_real_estate/static/img/images/bath.png" style="float:none;"/> <span t-field="topdatas.bathroom"/></div>
	        	<div>BATHS</div>
	        </div>
        	<div class="col-md-4 rs-icons">
        		<div class="rs-icons-img rs-m2"><span t-field="topdatas.flat_cons_m2"/>m<sup>2</sup></div>
	        	<div>SIZE</div>
	        </div>
	    </div>
	</template>
    
    <template id="tops_template">
	    <t t-call="website.layout">
	    	<div class="hidden js_numbers">
				<span>1</span>
			</div>
			<div id="wrap">
				<div class="container mainTop">
					<div class="row">
						<div class="col-md-10">
							<t t-set="completeAddress" t-value="tops.zone.name or '' + ' - ' + tops.address or ''"/><strong><h1 t-esc="completeAddress"/></strong>
							<br />
							<div id="top-price">
								Price: 
								<t t-if="(tops.original_sale_price != '') and (tops.original_sale_price &gt; 0)">
									<span id="origsaleprice" t-field="tops.original_sale_price" /><span id="eur" >€</span>
									<span class="hidden" id="1"/>
								</t>
								<t t-if="(tops.sale_price != '') and (tops.sale_price &gt; 0)">
									<span id="saleprice" t-field="tops.sale_price" /><span id="eur1" >€</span>
									<span class="hidden" id="2"/>
								</t>
								<t t-if="(tops.original_rent_price != '') and (tops.original_rent_price &gt; 0)">
									<span id="origrentprice" t-field="tops.original_rent_price" /><span id="eur" >€/mes</span>
									<span class="hidden" id="3"/>
								</t>
								<t t-if="(tops.rent_price &gt; 0) and (tops.rent_price &gt; 0)">
									<span id="rentprice" t-field="tops.rent_price" /><span id="eur1" >€/mes</span>
									<span class="hidden" id="4"/>
								</t>
							</div>
							Reference code: <span id="reference" t-field="tops.name"/>
						</div>
						<div class="col-md-2" style="text-align: center">
						    <div class="req_panel div-button">
						        <span id="book-a-viewing">Book a viewing</span>
						    </div>
							<div class="call">
								or call<br/>
								<span t-field="companies.phone"/>
							</div>
						</div>
					</div>
					<div class="row top-buttons">
						<div class="div-button col-md-2 gallery_panel">
							<i class="fa fa-camera"></i> Gallery
						</div>
						<div class="div-button col-md-2 map_panel" onclick="location.href='#maps';">
							<i class="fa fa-map-marker"></i> Map
						</div>
						<div class="div-button col-md-2 print_panel" onClick="window.print();return false">
							<i class="fa fa-print"></i> Print page
						</div>
						<div class="div-button col-md-2 share_panel">
							<i class="fa fa-share-alt"></i> Share
						</div>
						<div class="div-button col-md-2 calc_panel">
							<i class="fa fa-calculator"></i> Mortage calculator
						</div>
					</div>
		    		<div class="current">
		    			<div class="show" id="gallery">     
						  <div class="col-md-12 ip_mapleft">
						  	<div class="superior_left row">
						  	<div class="buttonback">
						  			<t t-if="tops.image_ids">
						  				<img src="/website_real_estate/static/img/images/back.png" id="back"/>
						  			</t>
						  		</div>
						  		<div class="buttonnext">
						  			<t t-if="tops.image_ids">
						  				<img src="/website_real_estate/static/img/images/next.png" id="next"/>
						  			</t>
						  		</div>
						  		<div class="image2 col-md-12">
		                            <t t-if="tops.image_ids">
						       	 		<span t-field="tops.image_ids[0].file_db_store"
		                                        t-field-options='{"widget": "image", "class": "img-responsive"}'/>
						       	 	</t>
						  		</div>
						  		<div class="offer">
						  			<t t-if="tops.image_ids">
						  				<t t-if="((tops.original_sale_price != '') and (tops.original_sale_price &gt; 0)) or ((tops.original_rent_price != '') and (tops.original_rent_price &gt; 0))">
						  					<img src="/website_real_estate/static/img/images/banner_offer.png" id="offer1"/>
						  				</t>
						  			</t>
						  		</div>
						  		<div class="pending">
						  			<div class="hidden">
						  				<span t-field='tops.operation_state'/>
						  			</div>	
						  			<img class="hidden" src="/website_real_estate/static/img/images/banner_pending.png" id="pending1"/>
						  		</div>
						  		<div class="opportunity">
						  			<t t-if="tops.website_opportunity">
						  				<img src="/website_real_estate/static/img/images/banner_featured.png" id="opportunity1"/>
						  			</t>
						  		</div>
						  		<div class="new">
						  			<div class="hidden">
						  				<span t-field="tops.date"/>
						  				<span t-field="companies.new_top_date"/>
						  			</div>
						  			<img class="hidden" src="/website_real_estate/static/img/images/banner_new.png" id="novelty"/>
						  			
						  		</div>
						  	</div>
					 		<div class="inferior_left row">
						  		<t t-foreach="tops.image_ids" t-as="topimage">
						  			<div class="image1 col-md-2 col-sm-2">
							  				<t t-if="tops.image_ids">
								       	 		<span t-field="topimage[0].file_db_store"
				                                        t-field-options='{"widget": "image", "class": "img-responsive"}'/>
						       	 			</t>
							  		</div>
						  		</t>
						  	</div> 
						  </div>
						</div> 
						<div class="hidden" id="contact">
					        <div class="oe_structure"/>
					        <div class="container">
					            <div class="row">
					                <div class="col-md-12">
					                    <form action="/page/contactus" method="post"  enctype="multipart/form-data">
								            <label class="control-label" for="contact_name">Your name</label>
											<input class="form-control" name="contact_name" required="True" type="text" /><br/>
											<label class="control-label" for="phone">Phone number</label>
											<input class="form-control" name="phone" type="text" /><br/>
											<label class="control-label" for="email_from">Email address</label>
											<input class="form-control" name="email_from" required="True" type="email" /><br/>
											<label class="control-label" for="name">Subject</label>
											<input class="form-control" name="name" type="text" /><br/>
											<label class="control-label" for="description">Your Question</label>
											<textarea class="form-control" name="description" style="min-height: 120px"
												required="True"></textarea><br/>
											<input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
											<button class="btn btn-primary btn-lg">Send</button> 
								        </form>
					                </div>
					            </div>
					        </div>
					        <div class="oe_structure"/>
					</div>
					<div class="hidden" id="calculate">
						<form>
							<label for="price">*Price of property:</label> <input type="text" name="price" value=""/><br/>
							<label for="signal">Signal:</label> <input type="text" name="signal" value=""/><br/>
							<label for="interes">*Annual interest:</label> <input type="text" name="interes" value=""/> %<br/>
							<label for="terms">*Terms:</label> <input type="text" name="terms" value=""/>Years<br/>
							<input type="button" id="calc" value="Calculate"/><br/>
							<label for="price_signal">Mortgaged amount:</label> <input type="text" name="price_signal" value=""/><br/>
							<label for="total">Total payments:</label> <input type="text" name="total" value=""/><br/>
							<label for="month">Monthly payment:</label> <input type="text" name="month" value=""/><br/>
							<label for="info">*Indicative calculation.</label><br/>
						</form>
						<div class="hidden" id="payment_info">
							<span t-field="companies.interest"/>
							<span t-field="companies.payments"/>
						</div>
					</div>
					<div class="hidden" id="share">
						<div class="oe_share s_share">
		                  <h3><span id="orange_color">Share:</span>
		                    <a class="oe_share_facebook" t-attf-href="https://www.facebook.com/sharer/sharer.php?u={url}" target="_Blank"><i class="fa fa-facebook-square"/> </a>
		                    <a class="oe_share_twitter" t-attf-href="https://twitter.com/intent/tweet?text={{completeAddress + ' - ' + tops.name}}&amp;url={url}" target="_Blank"><i class="fa fa-twitter"/> </a>
		                    <a class="oe_share_linkedin" t-attf-href="https://www.linkedin.com/shareArticle?mini=true&amp;url={url}&amp;title={{completeAddress + ' - ' + tops.name}}" target="_Blank"><i class="fa fa-linkedin"/> </a>
		                    <a class="oe_share_google" t-attf-href="https://plus.google.com/share?url={url}" target="_Blank"><i class="fa fa-google-plus-square"/> </a>
		                    <a t-attf-href="mailto:?body={url}&amp;subject={{completeAddress + ' - ' + tops.name}}"><i class="fa fa-envelope-o"></i></a>                    
		                  </h3>
						</div>
					</div>
				</div>
					   <div class="row">
					      <div class="col-md-12 property-details">
					      	 <div class="col-md-12 property-details-title">
					      	 	<h2>Property Details</h2>
					         </div>
					         <div class="col-md-6 property-detail-col1">
					         	<t t-if="tops.subtype">
					         		<div class="property-detail">
					         			Type: <span t-field="tops.subtype.name"/>
					         		</div>
					         	</t>
						       	 <t t-if="((tops.type == 'flat') or (tops.type == 'chalet') or (tops.type == 'house'))">
						       	 	<div class="property-detail">
						       	 		Rooms: <span t-field="tops.rooms"/>
						       	 	</div>	
						       	 	<div class="property-detail">
						       	 		Bathroom: <span t-field="tops.bathroom"/>
						       	 	</div>
						       	 	<div class="property-detail">
						       	 		Livingroom: <span t-field="tops.hall"/>
						       	 	</div>
						       	 	<div class="property-detail">
						       	 		Kitchen: <span t-field="tops.kitchen"/>
						       	 	</div>
						       	 </t>
					         </div>
					         <div class="col-md-6 property-detail-col1">
					             <t t-if="tops.construction_year">
					             	<div class="property-detail">
					             		Construction year: <span t-field="tops.construction_year"/>
					             	</div>
					             </t>
	    						 <div class="property-detail">
	    						 	M2: <span t-field="tops.m2"/>
	    						 </div>
						       	 <t t-if="((tops.type == 'chalet') or (tops.type == 'house'))">
						       	 	<div class="property-detail">
						       	 		Planta: <span t-field="tops.floor_number"/>
						       	 	</div>
						       	 </t>
						       	 <t t-if="tops.plot_m2">
						       	 	<div class="property-detail">
						       	 		Plot: <span t-field="tops.plot_m2"/>
						       	 	</div>
						       	 </t>
						       	 <t t-if="tops.energy_efficiency">
						       	 	<div class="property-detail">
									<div class="energy_colors">
							       	 	<div class="energy_title col-md-6 col-sm-6 col-xs-5">
							       	 		<span id="pos_text">Energy Efficiency:</span>
							       	 	</div>
							       	 	<div class="energy_type col-md-6 col-sm-6 col-xs-7" style="background-image: url('/website_real_estate/static/img/images/white.png'); background-repeat: no-repeat; background-size: contain;">
							       	 		<t t-if="(tops.energy_doc)">
									       		<a t-attf-href="/web/binary/saveas?model=real.estate.top&amp;field=energy_doc&amp;filename_field=name&amp;id={{ tops.id }}"><span id="pos_text" t-field="tops.energy_efficiency"/></a>
									       	</t>
							       	 	</div>
						       	 	</div>
						       	 	</div>
						       	 </t>
					         </div>
						       	
					      </div>
					  </div>
						
					  <div class="row">
					      <div class="col-md-12" id="internet-description">
					      	 <t t-esc="tops.internet_description"/>
					      </div>
					      <div class="text_video_bottom col-md-12 col-sm-12 col-xs-12 oe_structure" id="top-extra"/>
					      <div class="clearfix"/>
					</div>
								<div class="current" style="padding-bottom: 10px;">
									<div class="show" id="maps">
										<h3>Location</h3>
										<span class="hidden" t-field="tops.latitude"/>
										<span class="hidden" t-field="tops.longitude"/>							
										<a href="" class="hidden urltomaps">Abrir Mapa</a>
										<t t-if="tops.latitude and tops.longitude">
						       	 			<div id="probandoo" class="show">
						       	 				<div id="map" style="height: 400px; width:auto; overflow: hidden;"/> 
						       	 			</div>
						       	 		</t>
										
									</div>
								</div>
		    	</div>
		    	
	    	</div>
	    </t>
    
    </template>
    
    
	       		
    </data>
</odoo>
